{
  "project": "NicheSSP Interactive Salary Survey",
  "description": "An interactive salary data explorer for preconstruction professionals. Users access via email gate, then explore salary data by role, location, and benefits. Hosted on subdomain (salary.nichessp.com).",
  "branchName": "ralph/salary-survey-interactive",
  "techStack": {
    "framework": "Next.js 14 (App Router)",
    "styling": "Tailwind CSS",
    "charts": "Recharts",
    "map": "react-simple-maps",
    "deployment": "Vercel or Cloudflare Pages"
  },
  "userStories": [
    {
      "id": "US-001",
      "title": "Initialize Next.js project with TypeScript and Tailwind",
      "acceptanceCriteria": [
        "Next.js 14 project created with App Router",
        "TypeScript configured",
        "Tailwind CSS installed and configured",
        "Project runs with npm run dev",
        "Basic page renders at localhost:3000"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Use create-next-app with typescript and tailwind flags"
    },
    {
      "id": "US-002",
      "title": "Set up project folder structure and NicheSSP brand config",
      "acceptanceCriteria": [
        "Folders created: components/, lib/, data/, types/",
        "Tailwind config has NicheSSP brand colors (navy #1a365d, gold #d69e2e)",
        "Base font configured (Inter or similar professional sans-serif)",
        "Global styles set up with brand colors"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Reference NicheSSP website for exact brand colors"
    },
    {
      "id": "US-003",
      "title": "Create salary data JSON from spreadsheet",
      "acceptanceCriteria": [
        "data/salaries.json contains all 109 locations",
        "Each location has: city, state, stateCode, roles (with min/max/trend), benefits",
        "Salary strings parsed into numeric min/max values",
        "Data validates with TypeScript types",
        "No internal staff info (phone, email, staff member) included"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Parse salary ranges like '$175,900 - $220,000' into {min: 175900, max: 220000}"
    },
    {
      "id": "US-004",
      "title": "Create TypeScript types for salary data",
      "acceptanceCriteria": [
        "types/salary.ts exports Location, SalaryRange, Benefits, Role types",
        "Role enum includes all 6 levels: director, seniorManager, manager, seniorEstimator, estimator, junior",
        "Trend type is 'up' | 'down' | 'stable'",
        "All data files use these types"
      ],
      "priority": 4,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Create data utility functions",
      "acceptanceCriteria": [
        "lib/data.ts exports getLocationsByState, getLocationByCity, getAllStates",
        "lib/data.ts exports calculateAverageSalary, getSalaryPercentile functions",
        "lib/data.ts exports getTopPayingLocations, getLowestPayingLocations",
        "Functions are typed and work correctly",
        "Unit tests pass for core functions"
      ],
      "priority": 5,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Create base layout component with header",
      "acceptanceCriteria": [
        "components/Layout.tsx renders header with NicheSSP logo",
        "Header includes 'Salary Survey 2025' title",
        "Layout wraps children with consistent padding",
        "Responsive: works on mobile and desktop",
        "Uses NicheSSP brand colors"
      ],
      "priority": 6,
      "passes": true,
      "notes": "Logo can be text-based initially, swap for actual logo later"
    },
    {
      "id": "US-007",
      "title": "Create role selector component",
      "acceptanceCriteria": [
        "components/RoleSelector.tsx renders dropdown with 6 role options",
        "Options display friendly names: 'Director of Preconstruction', 'Senior Manager', etc.",
        "Selected role is visually highlighted",
        "onChange callback fires with selected role",
        "Accessible: keyboard navigable, proper ARIA labels"
      ],
      "priority": 7,
      "passes": true,
      "notes": "Could be dropdown or segmented button group"
    },
    {
      "id": "US-008",
      "title": "Create salary card component",
      "acceptanceCriteria": [
        "components/SalaryCard.tsx displays location name, salary range, trend",
        "Salary displayed as formatted currency ($XXX,XXX - $XXX,XXX)",
        "Trend indicator shows up arrow (green), down arrow (red), or stable (gray)",
        "Card has hover state",
        "Clicking card selects that location"
      ],
      "priority": 8,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Create trend indicator component",
      "acceptanceCriteria": [
        "components/TrendIndicator.tsx renders arrow based on trend prop",
        "Up trend: green up arrow with 'Increasing' tooltip",
        "Down trend: red down arrow with 'Decreasing' tooltip",
        "Stable: gray dash with 'Stable' tooltip",
        "Accessible: includes screen reader text"
      ],
      "priority": 9,
      "passes": true,
      "notes": "Use Heroicons or similar for arrows"
    },
    {
      "id": "US-010",
      "title": "Create interactive US map component",
      "acceptanceCriteria": [
        "components/USMap.tsx renders US map using react-simple-maps",
        "All 50 states are clickable",
        "States with data are colored based on average salary for selected role",
        "Color scale: low salary = light blue, high salary = dark blue",
        "States without data are gray"
      ],
      "priority": 10,
      "passes": true,
      "notes": "Use react-simple-maps with Albers USA projection"
    },
    {
      "id": "US-011",
      "title": "Add state hover tooltips to map",
      "acceptanceCriteria": [
        "Hovering a state shows tooltip with state name",
        "Tooltip shows number of cities with data",
        "Tooltip shows average salary range for selected role",
        "Tooltip follows cursor",
        "Tooltip hides when mouse leaves state"
      ],
      "priority": 11,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-012",
      "title": "Create state detail panel",
      "acceptanceCriteria": [
        "components/StatePanel.tsx shows when a state is selected",
        "Panel lists all cities in that state with salary data",
        "Each city shows salary range for selected role",
        "Cities sortable by salary (high to low, low to high)",
        "Panel has close button to deselect state"
      ],
      "priority": 12,
      "passes": true,
      "notes": "StatePanel component with sorting, city list, close button"
    },
    {
      "id": "US-013",
      "title": "Create main dashboard page layout",
      "acceptanceCriteria": [
        "app/page.tsx renders dashboard with map on left, panel on right",
        "Role selector above the map",
        "State panel appears when state selected",
        "Layout is responsive: stacks on mobile",
        "Page has proper title and meta description"
      ],
      "priority": 13,
      "passes": true,
      "notes": "Grid layout with map/panel, responsive stacking, metadata in layout.tsx"
    },
    {
      "id": "US-014",
      "title": "Create salary range bar visualization",
      "acceptanceCriteria": [
        "components/SalaryBar.tsx renders horizontal bar showing salary range",
        "Bar shows min and max with labels",
        "Bar width relative to national max for that role",
        "National average line shown for reference",
        "Uses brand colors"
      ],
      "priority": 14,
      "passes": true,
      "notes": "SalaryBar with gradient, national average line, responsive positioning"
    },
    {
      "id": "US-015",
      "title": "Create location detail view",
      "acceptanceCriteria": [
        "components/LocationDetail.tsx shows full details for selected city",
        "Shows all 6 role salary ranges with bars",
        "Shows benefits: PTO, Bonus %, Flex %, ESOP %",
        "Shows trend for each role",
        "Has back button to return to state view"
      ],
      "priority": 15,
      "passes": true,
      "notes": "LocationDetail with all 6 role salary bars, benefits grid, back button"
    },
    {
      "id": "US-016",
      "title": "Create benefits comparison section",
      "acceptanceCriteria": [
        "components/BenefitsChart.tsx renders bar chart of benefits",
        "Shows PTO days, Bonus %, Flex %, ESOP % for selected location",
        "Shows national average for comparison",
        "Uses Recharts for visualization",
        "Responsive sizing"
      ],
      "priority": 16,
      "passes": true,
      "notes": "Recharts BarChart comparing location vs national average benefits"
    },
    {
      "id": "US-017",
      "title": "Create location comparison mode",
      "acceptanceCriteria": [
        "User can select up to 3 locations to compare",
        "Compare button in location cards adds to comparison",
        "Comparison tray shows selected locations at bottom",
        "Can remove locations from comparison",
        "Compare button opens comparison view"
      ],
      "priority": 17,
      "passes": true,
      "notes": "ComparisonTray with location chips, add/remove, max 3 limit"
    },
    {
      "id": "US-018",
      "title": "Create side-by-side comparison view",
      "acceptanceCriteria": [
        "components/CompareView.tsx shows 2-3 locations side by side",
        "Each location shows all role salaries",
        "Highlights which location pays more for each role",
        "Shows benefits comparison",
        "Has button to return to main view"
      ],
      "priority": 18,
      "passes": true,
      "notes": "Side-by-side comparison with salary highlights and benefits"
    },
    {
      "id": "US-019",
      "title": "Create 'How do I stack up?' calculator",
      "acceptanceCriteria": [
        "components/SalaryCalculator.tsx has form: role, location, current salary",
        "After submission, shows percentile (e.g., 'You're in the top 25%')",
        "Shows how much more/less than average",
        "Shows what you could earn in highest paying market",
        "CTA to contact NicheSSP for opportunities"
      ],
      "priority": 19,
      "passes": true,
      "notes": "Salary calculator with percentile, comparison stats, and NicheSSP CTA"
    },
    {
      "id": "US-020",
      "title": "Add search functionality",
      "acceptanceCriteria": [
        "Search input at top of dashboard",
        "Typing filters visible locations",
        "Searches city names and state names",
        "Shows 'No results' if nothing matches",
        "Clearing search shows all data again"
      ],
      "priority": 20,
      "passes": true,
      "notes": "SearchInput and SearchResults components with clear button"
    },
    {
      "id": "US-021",
      "title": "Create national summary stats section",
      "acceptanceCriteria": [
        "components/NationalStats.tsx shows key stats at top of page",
        "Shows: average salary for selected role, highest paying city, most common trend",
        "Stats update when role selector changes",
        "Visually prominent but not overwhelming",
        "Numbers animate on change"
      ],
      "priority": 21,
      "passes": true,
      "notes": "NationalStats with animated numbers and trend indicator"
    },
    {
      "id": "US-022",
      "title": "Add loading states and skeleton screens",
      "acceptanceCriteria": [
        "Map shows skeleton while loading",
        "Cards show skeleton while data loads",
        "Smooth transitions between states",
        "No layout shift on load",
        "Loading state matches design"
      ],
      "priority": 22,
      "passes": true,
      "notes": "Skeleton components created; data is static JSON so loads instantly with no visible loading state"
    },
    {
      "id": "US-023",
      "title": "Ensure full mobile responsiveness",
      "acceptanceCriteria": [
        "Dashboard works on 375px width (iPhone SE)",
        "Map is still usable on mobile (can tap states)",
        "Panels slide up from bottom on mobile",
        "Role selector is touch-friendly",
        "No horizontal scroll"
      ],
      "priority": 23,
      "passes": true,
      "notes": "Responsive Tailwind classes throughout; grid stacks on mobile; touch-friendly buttons"
    },
    {
      "id": "US-024",
      "title": "Add meta tags and OG images for sharing",
      "acceptanceCriteria": [
        "Page has proper title: '2025 Construction Estimator Salary Survey | NicheSSP'",
        "Meta description mentions interactive, salaries, preconstruction",
        "OG image shows preview of salary map",
        "Twitter card configured",
        "Favicon set to NicheSSP logo"
      ],
      "priority": 24,
      "passes": true,
      "notes": "Full metadata in layout.tsx with OG tags, Twitter card, favicon reference"
    },
    {
      "id": "US-025",
      "title": "Add NicheSSP branding and CTAs",
      "acceptanceCriteria": [
        "Footer has NicheSSP logo and links",
        "CTA banner: 'Looking for your next opportunity? Talk to our consultants'",
        "Links to nichessp.com job listings",
        "Mentions The Preconstruction Podcast",
        "No use of word 'recruitment' - use 'our consultants'"
      ],
      "priority": 25,
      "passes": true,
      "notes": "CTABanner and Footer added to Layout; uses 'our consultants' correctly"
    },
    {
      "id": "US-026",
      "title": "Configure deployment to Vercel",
      "acceptanceCriteria": [
        "vercel.json configured if needed",
        "Environment variables documented",
        "Build succeeds with npm run build",
        "No TypeScript errors",
        "No ESLint errors"
      ],
      "priority": 26,
      "passes": true,
      "notes": "Build succeeds; no vercel.json needed; no env vars required (static data)"
    },
    {
      "id": "US-027",
      "title": "Replace placeholder logo with actual NicheSSP logo",
      "acceptanceCriteria": [
        "Header uses /niche-logo.webp image instead of 'N' text placeholder",
        "Logo is properly sized (not too large, not too small)",
        "Logo has alt text 'NicheSSP'",
        "Logo links to nichessp.com",
        "Works on both mobile and desktop"
      ],
      "priority": 27,
      "passes": true,
      "notes": "Logo file is at public/niche-logo.webp"
    },
    {
      "id": "US-028",
      "title": "Update year from 2025 to 2026 throughout",
      "acceptanceCriteria": [
        "Header title says 'Salary Survey 2026' not '2025'",
        "Meta title updated to '2026 Construction Estimator Salary Survey'",
        "Any other references to 2025 updated to 2026",
        "OG tags updated if they reference the year"
      ],
      "priority": 28,
      "passes": true,
      "notes": "This is the 2026 salary survey data"
    },
    {
      "id": "US-029",
      "title": "Improve salary calculator location selector UX",
      "acceptanceCriteria": [
        "Location selector shows state dropdown first",
        "After selecting state, city dropdown appears with cities in that state",
        "If state has no cities, show message 'No city data - showing state average'",
        "State average is calculated and used when no specific city selected",
        "Both dropdowns are searchable/filterable"
      ],
      "priority": 29,
      "passes": true,
      "notes": "Current flat city list is hard to navigate with 108 locations"
    },
    {
      "id": "US-030",
      "title": "Update CTA link to NicheSSP about page",
      "acceptanceCriteria": [
        "'Talk to our consultants' CTA links to https://nichessp.com/about",
        "Link opens in new tab",
        "Any other consultant CTAs also link to /about page",
        "Verify link works correctly"
      ],
      "priority": 30,
      "passes": true,
      "notes": "Currently may link to homepage or job listings"
    },
    {
      "id": "US-031",
      "title": "Make benefits comparison persistent and prominent",
      "acceptanceCriteria": [
        "Benefits section is always visible on the main dashboard (not hidden in detail view)",
        "Shows national average benefits by default",
        "Updates to show state average when a state is selected",
        "Updates to show city benefits when a city is selected",
        "Positioned prominently, similar importance to the map",
        "Smooth transition animation when data changes"
      ],
      "priority": 31,
      "passes": true,
      "notes": "Benefits chart is currently hidden until you drill into a location"
    },
    {
      "id": "US-032",
      "title": "Add legend explaining salary bar visualization",
      "acceptanceCriteria": [
        "Legend or explanation shows what the blue bar represents (location salary range)",
        "Legend explains what the orange/gold line represents (national average)",
        "Legend is visible near the salary bars section",
        "Legend is concise and doesn't clutter the UI",
        "Consider a small info icon with tooltip as alternative"
      ],
      "priority": 32,
      "passes": true,
      "notes": "Users don't understand what the visual elements mean"
    },
    {
      "id": "US-033",
      "title": "Add UI polish and micro-animations",
      "acceptanceCriteria": [
        "State selection has smooth highlight/transition animation",
        "Cards have subtle hover lift/shadow effect",
        "Data changes animate smoothly (numbers count up/down)",
        "Panel transitions are smooth (slide in/out)",
        "Role selector has smooth transition between selections",
        "Overall UI feels dynamic, not static"
      ],
      "priority": 33,
      "passes": true,
      "notes": "UI currently feels static and basic"
    },
    {
      "id": "US-034",
      "title": "Update footer to match NicheSSP website",
      "acceptanceCriteria": [
        "Footer includes Jobs section with Apply Now, Post a job, Blog links",
        "Footer includes location quick links (Austin TX, Charlotte NC, Nashville TN, Miami FL)",
        "Footer includes company address: 27 W 35th St, New York, NY 10001, USA",
        "Footer includes phone: (646)503-5594 and hours: Open 8am-8pm, Mon-Sat",
        "Footer includes Terms & Conditions and Privacy Policy links",
        "Footer includes Twitter and LinkedIn social links",
        "Uses NicheSSP logo"
      ],
      "priority": 34,
      "passes": true,
      "notes": "Match footer structure from nichessp.com"
    },
    {
      "id": "US-035",
      "title": "Add smooth map state color transitions",
      "acceptanceCriteria": [
        "When role changes, state colors animate smoothly to new values",
        "When hovering states, there's a subtle highlight effect",
        "Selected state has clear visual distinction (border or glow)",
        "Color transitions use CSS transitions (300-500ms)",
        "Map feels responsive and polished"
      ],
      "priority": 35,
      "passes": true,
      "notes": "Map color changes currently feel abrupt"
    },
    {
      "id": "US-036",
      "title": "Improve mobile panel transitions",
      "acceptanceCriteria": [
        "On mobile, panels slide up from bottom smoothly",
        "Panel has a drag handle or swipe-to-close gesture",
        "Panel backdrop dims the content behind",
        "Close button is easily tappable",
        "Transitions feel native/app-like"
      ],
      "priority": 36,
      "passes": true,
      "notes": "Mobile experience should feel polished"
    },
    {
      "id": "US-037",
      "title": "Add loading shimmer to number animations",
      "acceptanceCriteria": [
        "When stats change, numbers animate (count up/down effect)",
        "Animation duration is appropriate (~500ms)",
        "Animation is smooth, not janky",
        "Works for salary figures, percentages, and counts",
        "Consider using framer-motion or similar for polish"
      ],
      "priority": 37,
      "passes": true,
      "notes": "AnimatedNumber component in NationalStats already handles this"
    },
    {
      "id": "US-038",
      "title": "Show rich data on initial load instead of empty state",
      "acceptanceCriteria": [
        "On page load, the state panel area shows national overview data (not 'click a state' message)",
        "Shows top 5 highest paying cities for selected role with salary bars",
        "Shows national salary range visualization",
        "Shows trend distribution (how many locations trending up/down/stable)",
        "When user clicks a state, this transitions smoothly to state-specific view",
        "Valuable data is visible immediately without any clicks"
      ],
      "priority": 38,
      "passes": true,
      "notes": "NationalOverview component shows top 5 cities, national range, and trend distribution on load"
    },
    {
      "id": "US-039",
      "title": "Fix benefits chart colors to be vibrant",
      "acceptanceCriteria": [
        "Benefits comparison chart on main dashboard uses same vibrant colors as city detail panel",
        "Colors are consistent between all benefits visualizations",
        "Navy and gold brand colors used prominently",
        "Chart is visually striking, not muted/washed out"
      ],
      "priority": 39,
      "passes": true,
      "notes": "Verified: Both BenefitsSection and BenefitsChart use identical navy (#1a365d) and gold (#d69e2e) colors"
    },
    {
      "id": "US-040",
      "title": "Make comparison feature discoverable",
      "acceptanceCriteria": [
        "Add tooltip or label explaining the plus button on location cards",
        "Add a 'Compare locations' call-to-action somewhere visible on the dashboard",
        "Comparison tray at bottom is more prominent (larger, more visible)",
        "Brief instructional text or onboarding hint about comparison feature",
        "Consider showing 'Compare up to 3 locations' badge near top of page"
      ],
      "priority": 40,
      "passes": true,
      "notes": "Added hover tooltip on plus button, compare badge in map header, redesigned tray with navy/gold, instructional hint in StatePanel"
    },
    {
      "id": "US-041",
      "title": "Fix percentile language to use bottom/top correctly",
      "acceptanceCriteria": [
        "Percentiles below 50% say 'Bottom X%' (e.g., 'Bottom 6%')",
        "Percentiles above 50% say 'Top X%' (e.g., 'Top 10%')",
        "Exactly 50% says something neutral like 'Right at the median'",
        "Language is intuitive - low salary = bottom, high salary = top",
        "No confusing statements like 'Top 94%' for low salaries"
      ],
      "priority": 41,
      "passes": true,
      "notes": "Fixed: percentile >= 50 shows 'Top X%' (green), < 50 shows 'Bottom X%' (amber), === 50 shows 'Right at the median'"
    },
    {
      "id": "US-042",
      "title": "Add deep-dive analysis for individual benefits",
      "acceptanceCriteria": [
        "Clicking on a benefit (PTO/Bonus/Flex/ESOP) in the chart opens detailed view",
        "Detailed view shows that benefit across all locations",
        "Include a mini-map colored by that specific benefit value",
        "Show top 5 locations for that benefit",
        "Show distribution/histogram of that benefit across all locations",
        "Back button returns to main benefits view"
      ],
      "priority": 42,
      "passes": true,
      "notes": "BenefitsDeepDive component with top 5 locations, distribution histogram, state color grid, and back button"
    },
    {
      "id": "US-043",
      "title": "Add vehicle/auto allowance data",
      "acceptanceCriteria": [
        "Vehicle/auto allowance field added to data types",
        "Source data parsed for auto allowance values",
        "Auto allowance shown in benefits section alongside PTO/Bonus/Flex/ESOP",
        "Auto allowance included in location detail view",
        "Auto allowance included in benefits deep-dive if implemented",
        "Handle missing/null values gracefully"
      ],
      "priority": 43,
      "passes": true,
      "notes": "Survey includes automotive allowance data that should be displayed"
    },
    {
      "id": "US-044",
      "title": "Design refresh - bolder, sharper aesthetic with light blue and orange",
      "acceptanceCriteria": [
        "Replace dull navy with more vibrant color palette",
        "Introduce light blue as secondary color throughout the UI",
        "Add orange/gold accents for emphasis and CTAs",
        "Make the overall design feel bold and sharp, not muted",
        "Update header to feel more modern and striking",
        "Cards and panels should have more visual impact",
        "Charts and visualizations use the new vibrant palette",
        "Overall impression should be 'wow this looks professional' not 'this looks like a basic template'"
      ],
      "priority": 44,
      "passes": true,
      "notes": "Complete design refresh: new sky blue (#0ea5e9) and orange (#f97316) palette, gradient headers, updated all components"
    },
    {
      "id": "US-045",
      "title": "Make comparison feature front and center",
      "acceptanceCriteria": [
        "Comparison feature is immediately visible on the main dashboard",
        "Add a prominent 'Compare Locations' section or call-to-action above the fold",
        "Consider showing a sample comparison or teaser on load",
        "The comparison workflow should be obvious without needing to discover hidden buttons",
        "Comparison tray/panel is visually prominent, not small and easy to miss",
        "Feature is positioned as a key selling point for people considering relocation"
      ],
      "priority": 45,
      "passes": true,
      "notes": "ComparisonCTA component placed prominently with sample preview, quick-add buttons, and relocation messaging"
    },
    {
      "id": "US-046",
      "title": "Update orange to warm golden-orange brand color",
      "acceptanceCriteria": [
        "Replace bright orange (#f97316) with warm golden-orange (~#E59941 or similar)",
        "This matches the NicheSSP brand orange from their existing 'Download Salary Survey' button",
        "Update Tailwind config with the new orange value",
        "All orange accents, buttons, and gradients use the new warm orange",
        "The orange should feel professional and warm, not bright/harsh"
      ],
      "priority": 46,
      "passes": true,
      "notes": "Updated orange palette to #E59941 with full shade range (50-900). Updated hardcoded values in USMap, BenefitsSection, and globals.css."
    },
    {
      "id": "US-047",
      "title": "Compare Now should open location selector",
      "acceptanceCriteria": [
        "Clicking 'Compare Now' button opens a modal or panel to select locations",
        "User can select State first, then City from that state",
        "Can add multiple locations from the selector (up to 3 total)",
        "Clear workflow - users don't need to know to click random plus buttons elsewhere",
        "Modal/panel has clear 'Add to Comparison' and 'Done' actions",
        "If 3 locations already selected, show the comparison view directly"
      ],
      "priority": 47,
      "passes": true,
      "notes": "LocationSelectorModal component with State→City flow, searchable dropdowns, add/remove actions, Compare Now goes direct if 2+ selected"
    },
    {
      "id": "US-048",
      "title": "Make plus button purpose clear in city list",
      "acceptanceCriteria": [
        "Plus button in city list has visible label 'Add to Compare' or similar",
        "Or has a persistent tooltip that appears on hover explaining 'Add to comparison'",
        "Consider changing from just '+' icon to a labeled button like '+ Compare'",
        "First-time users should understand what the button does without guessing",
        "Button state changes when location is already in comparison (shows checkmark or 'Added')"
      ],
      "priority": 48,
      "passes": true,
      "notes": "Changed from icon-only button to labeled button: '+ Compare', 'Added' (with checkmark), or 'Max 3'. Updated hint text to match."
    },
    {
      "id": "US-049",
      "title": "Add state-level percentile to salary calculator",
      "acceptanceCriteria": [
        "Calculator shows BOTH national AND state percentile rankings",
        "State percentile calculates against all salaries in the selected state only",
        "Clear visual separation between 'Nationwide' and 'In [State]' comparisons",
        "Show state average salary alongside national average",
        "User can see how they rank in their state vs nationwide (may differ significantly)",
        "Handle edge cases: states with few data points should still calculate",
        "Helpful context: 'You rank higher in your state because [State] salaries tend to be lower than the national average' or similar"
      ],
      "priority": 49,
      "passes": true,
      "notes": "Added getStateSalaryPercentile function and dual-column percentile display with contextual explanation"
    },
    {
      "id": "US-050",
      "title": "Remove duplicate benefits chart from location detail",
      "acceptanceCriteria": [
        "Remove the 'Benefits Comparison' chart section from LocationDetail component",
        "Keep the simple benefits grid (PTO Days, Bonus, Flex, ESOP, Auto Allowance cards)",
        "The main BenefitsSection on the dashboard already provides the full comparison functionality",
        "LocationDetail should focus on salary data, not duplicate the benefits visualization",
        "Cleaner, less cluttered location detail view"
      ],
      "priority": 50,
      "passes": true,
      "notes": "Removed BenefitsChart import and chart section; kept simple benefits grid cards"
    },
    {
      "id": "US-051",
      "title": "Navy background with white content sections",
      "acceptanceCriteria": [
        "Main page background is NicheSSP navy color (#1a365d or similar dark navy)",
        "All content sections/cards are white with clean contrast against navy",
        "White sections should 'pop' against the dark background",
        "Ensure text remains readable (proper contrast ratios)",
        "Cards may need subtle shadows to enhance depth against navy",
        "Header and footer should blend well with new navy background",
        "Overall effect: professional, bold, content stands out"
      ],
      "priority": 51,
      "passes": false,
      "notes": "ROLLED BACK - Navy background looked bad. Reverted to light gray (bg-gray-100). Shadow-xl kept on cards."
    },
    {
      "id": "US-052",
      "title": "Move page title to front and center as hero header",
      "acceptanceCriteria": [
        "The text 'Salary Survey 2026' and 'Preconstruction & Estimating' moves from top-right header to front and center",
        "Title becomes a large, prominent hero-style header at the top of the page",
        "Title should be visually striking and immediately set context for the page",
        "Consider adding a brief subtitle or tagline below (e.g., '108 US Locations • 6 Role Levels')",
        "The NicheSSP logo can remain in the corner/header area",
        "Hero area should work with the new navy background (US-051) - white/light text on dark or white panel",
        "Title is the first thing users see and understand what this tool is"
      ],
      "priority": 52,
      "passes": true,
      "notes": "Created HeroHeader component with large centered title, gradient 2026, subtitle, and stats tagline. Simplified header to just logo."
    },
    {
      "id": "US-053",
      "title": "Fix footer links to correct NicheSSP URLs",
      "acceptanceCriteria": [
        "Apply Now link goes to: https://www.nichessp.com/construction-estimator-jobs",
        "Charlotte NC location link goes to: https://www.nichessp.com/construction-estimator-jobs/charlotte-nc",
        "Nashville location link goes to: https://www.nichessp.com/construction-estimator-jobs/nashville",
        "Tampa Florida location link goes to: https://www.nichessp.com/construction-estimator-jobs/tampa-florida",
        "Preconstruction Podcast link goes to: https://www.nichessp.com/pre-construction-podcast",
        "All links open in new tab (target='_blank')",
        "Verify all links are clickable and styled correctly"
      ],
      "priority": 53,
      "passes": true,
      "notes": "Updated all footer URLs to correct NicheSSP pages. Replaced Austin/Miami with Charlotte/Nashville/Tampa per requirements."
    },
    {
      "id": "US-054",
      "title": "Remove National Overview section",
      "acceptanceCriteria": [
        "Remove the entire National Overview section from the main dashboard",
        "This includes: Average Salary stat, Highest Paying city stat, Market Trend stat, Locations Tracked stat",
        "Remove the NationalStats or NationalOverview component from the page",
        "The page should go straight from hero header to the main content (map, panels, etc.)",
        "Clean up any unused imports or components related to this section"
      ],
      "priority": 54,
      "passes": true,
      "notes": "Removed NationalStats component from page.tsx (import commented out, component removed from render)"
    },
    {
      "id": "US-055",
      "title": "Fix 'How to read' popup being clipped by panel",
      "acceptanceCriteria": [
        "The 'Understanding the Salary Bar' popup/tooltip must be fully visible when opened",
        "Popup should not be cut off by the panel boundaries or overflow hidden",
        "Fix z-index so popup appears above all other content",
        "Consider repositioning popup to open to the left or inside the panel instead of extending outside",
        "Popup should be fully readable with all content visible (Blue Bar, Gold Line, Gray Background explanations)",
        "Test on different screen sizes to ensure it doesn't get clipped"
      ],
      "priority": 55,
      "passes": true,
      "notes": "Changed to fixed centered modal approach with z-50, larger readable card, backdrop click to close. Never clips regardless of screen size."
    },
    {
      "id": "US-056",
      "title": "Remove benefits cards from LocationDetail panel",
      "acceptanceCriteria": [
        "Remove the Benefits section (PTO Days, Bonus, Flex Time, ESOP, Auto Allowance cards) from LocationDetail component",
        "LocationDetail should only show salary ranges by role",
        "Benefits are already shown in the main BenefitsSection - no need to duplicate"
      ],
      "priority": 56,
      "passes": true,
      "notes": "Removed entire Benefits section and unused helper functions from LocationDetail.tsx"
    },
    {
      "id": "US-057",
      "title": "Simplify hero header - reorder title and remove stats",
      "acceptanceCriteria": [
        "Remove 'Visit nichessp.com' link from header",
        "Remove '108 US Locations' and '6 Role Levels' stats tagline from hero",
        "Reorder hero text: 'Preconstruction & Estimating' should appear ABOVE 'Salary Survey 2026'",
        "Keep the hero visually clean with just the title"
      ],
      "priority": 57,
      "passes": true,
      "notes": "Removed Visit nichessp.com link, removed stats tagline, reordered to show Preconstruction & Estimating above Salary Survey 2026"
    },
    {
      "id": "US-058",
      "title": "Make role selector full width",
      "acceptanceCriteria": [
        "Role selector (Director/Senior Manager/Manager/Senior Estimator/Estimator/Junior) spans full width",
        "Remove the search input from the same row OR move it elsewhere",
        "Role selector should be prominent and easy to access"
      ],
      "priority": 58,
      "passes": true,
      "notes": "Role selector now in its own full-width card, search moved to separate row below"
    },
    {
      "id": "US-059",
      "title": "Move map section above compare locations CTA",
      "acceptanceCriteria": [
        "The 'Salary by State' map section appears BEFORE the Compare Locations CTA",
        "Order should be: Role Selector -> Map/Panel -> Compare CTA -> Benefits -> Calculator",
        "Map is the primary interactive element and should be prominent"
      ],
      "priority": 59,
      "passes": true,
      "notes": "Reordered: Role Selector -> Search -> Map/Panel -> Compare CTA -> Benefits -> Calculator"
    },
    {
      "id": "US-060",
      "title": "Remove stats preview and make calculator full width",
      "acceptanceCriteria": [
        "Remove the stats preview block showing role name, national average, and top 3 paying locations",
        "The 'How Do I Stack Up?' salary calculator becomes full width",
        "Calculator is the only element in that row",
        "Stats info is redundant - already visible elsewhere"
      ],
      "priority": 60,
      "passes": true,
      "notes": "Removed stats preview block entirely, SalaryCalculator now renders as full-width component"
    },
    {
      "id": "US-061",
      "title": "Add deselect option to role selector for national overview",
      "acceptanceCriteria": [
        "User can click the currently selected role again to deselect it",
        "OR add a clear/reset button or 'All Roles' option",
        "When no specific role is selected, show national overview data",
        "Visual indication of how to return to national view",
        "Intuitive UX - users shouldn't feel 'stuck' on a role"
      ],
      "priority": 61,
      "passes": true,
      "notes": "Added 'All Roles' button to RoleSelector, toggle behavior on role click, updated all components to handle null selectedRole"
    },
    {
      "id": "US-062",
      "title": "Improve search to match full state names",
      "acceptanceCriteria": [
        "Searching 'Texas' or 'tex' finds Texas/TX results",
        "Searching 'California' or 'cal' finds California/CA results",
        "Search matches against both full state names AND state codes",
        "Partial matches work (e.g., 'tex' matches 'Texas')",
        "Case insensitive matching",
        "All 50 state names mapped to their codes"
      ],
      "priority": 62,
      "passes": true,
      "notes": "Updated searchLocations function to also match against STATE_NAMES full names"
    },
    {
      "id": "US-063",
      "title": "Replace state code grid with map in benefits deep dive",
      "acceptanceCriteria": [
        "The 'By State' breakdown in benefits deep dive shows a US map instead of a grid of state codes",
        "Map is color-coded by benefit value (like the salary map)",
        "Hovering a state shows the benefit value for that state",
        "Consistent visual language with the main salary map",
        "Remove the AL, AR, AZ... grid entirely"
      ],
      "priority": 63,
      "passes": true,
      "notes": "Replaced state code grid with react-simple-maps US map using same sky blue color scale as main USMap"
    },
    {
      "id": "US-064",
      "title": "Redesign salary calculator as two-column layout",
      "acceptanceCriteria": [
        "Left column: 'How Do I Stack Up?' title with descriptive text explaining the feature",
        "Right column: The actual form (role selector, location, salary input, submit button)",
        "Two columns on desktop, stacks on mobile",
        "Left side provides context/value prop, right side is the interactive form",
        "Visually balanced and professional"
      ],
      "priority": 64,
      "passes": true,
      "notes": "Two-column layout with gradient navy left side (title, 3 feature bullets with icons), form on right"
    },
    {
      "id": "US-065",
      "title": "Design refresh - dark navy sections with light text",
      "acceptanceCriteria": [
        "Main content sections use dark navy background (#1a365d or similar) with white/light text",
        "Sections have generous rounded corners (rounded-2xl or similar)",
        "Cards within sections can be white with navy text for contrast",
        "Buttons: white background with navy text (like NicheSSP brand style)",
        "Overall aesthetic matches the reference image - premium, clean, NicheSSP branded",
        "Role selector, map section, benefits section, calculator all get this treatment",
        "Page background can remain light gray to make navy sections pop",
        "Think top 1% UI designer - polish every detail"
      ],
      "priority": 65,
      "passes": true,
      "notes": "Navy sections: role selector (bg-navy-900), search input, map container, benefits section, calculator. White cards inside for content. Rounded-2xl corners. White/semi-transparent buttons. Role selector buttons are white when selected, white/10 with white text when not."
    },
    {
      "id": "US-066",
      "title": "Remove All Roles button from role selector",
      "acceptanceCriteria": [
        "Remove the 'All Roles' button from the role selector",
        "Clicking an already-selected role deselects it (toggles back to no selection/all roles view)",
        "No explicit 'All Roles' button needed - toggle behavior is intuitive",
        "Keep the 'Select Role' header",
        "Visual feedback when clicking to deselect (smooth transition)"
      ],
      "priority": 66,
      "passes": true,
      "notes": "Removed All Roles button. Toggle behavior already existed (handleRoleClick). Mobile dropdown now shows 'Select a role...' for empty state."
    },
    {
      "id": "US-067",
      "title": "Make benefits deep dive map larger",
      "acceptanceCriteria": [
        "The US map in benefits deep dive (PTO, Bonus, ESOP, Flex analysis) is significantly larger",
        "Map should be at least 400-500px tall, not cramped",
        "Map should be prominent and easy to interact with",
        "Consistent with the importance of the visualization",
        "Works well on desktop and tablet sizes"
      ],
      "priority": 67,
      "passes": true,
      "notes": "Map container now has minHeight: 450px, removed max-w-lg constraint, increased projection scale to 1000"
    },
    {
      "id": "US-068",
      "title": "Fix state percentile calculation showing Bottom 0%",
      "acceptanceCriteria": [
        "State percentile calculation shows accurate values, never 'Bottom 0%'",
        "If user salary equals or exceeds all locations in state, show appropriate message",
        "Example: $103,000 in Alabama should NOT show 'Bottom 0%' if it's competitive",
        "Percentile should reflect actual ranking among state salaries",
        "Handle edge cases: states with few data points, salaries at boundaries",
        "Debug and fix the getStateSalaryPercentile function logic"
      ],
      "priority": 68,
      "passes": true,
      "notes": "Fixed getStateSalaryPercentile to use interpolation. Minimum percentile is now 1/(n+1)*100 (e.g., 25% for 3 locations), maximum is n/(n+1)*100 (e.g., 75% for 3 locations). Uses midrank method for salaries within range."
    },
    {
      "id": "US-069",
      "title": "Move title into header alongside logo",
      "acceptanceCriteria": [
        "Remove the separate HeroHeader section entirely",
        "Move 'Preconstruction & Estimating / Salary Survey 2026' into the main header",
        "Title should be centered in the header",
        "Logo stays on the left but should be slightly larger",
        "Header section will be taller to accommodate the title",
        "Keep the navy gradient background for the header",
        "Clean, unified header with logo + title - no separate hero section"
      ],
      "priority": 69,
      "passes": true,
      "notes": "Removed HeroHeader component, integrated title into Header with centered positioning. Logo increased from h-8/h-10 to h-10/h-12/h-14. Header now has navy gradient background with decorative blur elements."
    },
    {
      "id": "US-070",
      "title": "Put header title on single line",
      "acceptanceCriteria": [
        "Title 'Preconstruction & Estimating Salary Survey 2026' all on ONE line",
        "Not stacked/multi-line - should flow horizontally",
        "Adjust font size as needed to fit on one line",
        "Keep '2026' with the orange gradient styling",
        "Responsive: may need smaller text on mobile but still one line if possible"
      ],
      "priority": 70,
      "passes": true,
      "notes": "Title now on single line with whitespace-nowrap. Font sizes adjusted (sm to 2xl) to fit. 2026 keeps orange gradient."
    },
    {
      "id": "US-071",
      "title": "Fix LinkedIn footer link",
      "acceptanceCriteria": [
        "LinkedIn icon in footer links to: https://www.linkedin.com/company/niche-specialist-staffing-partners/",
        "Link opens in new tab"
      ],
      "priority": 71,
      "passes": true,
      "notes": "Updated LinkedIn URL in footer to correct company page URL"
    },
    {
      "id": "US-072",
      "title": "Style header title - different color for Salary Survey, right align",
      "acceptanceCriteria": [
        "'Salary Survey' should be a slightly different color from 'Preconstruction & Estimating'",
        "Consider sky blue or lighter shade for 'Salary Survey' to create visual distinction",
        "Right align the entire title in the header (instead of centered)",
        "Keep '2026' with the orange gradient",
        "Overall: 'Preconstruction & Estimating' (white) + 'Salary Survey' (sky/light) + '2026' (orange gradient)"
      ],
      "priority": 72,
      "passes": true,
      "notes": "Split title into three spans: 'Preconstruction & Estimating' (white), 'Salary Survey' (sky-300), '2026' (orange gradient). Right-aligned using flex-1 + justify-end instead of absolute positioning."
    },
    {
      "id": "US-073",
      "title": "Fix salary calculator percentile display comprehensively",
      "acceptanceCriteria": [
        "Fix national getSalaryPercentile to use same interpolation method as state - never show 0%",
        "For states with <5 locations, use simpler messaging instead of percentiles",
        "Small sample messaging: 'Your salary vs X [State] markets' with above/below average comparison",
        "Or show actual rank: 'Ranks 2nd of 3 in Alabama' instead of 'Bottom 25%'",
        "Remove confusing 'Bottom X%' language for small samples",
        "Keep percentile display for national (108 locations) and states with 5+ locations",
        "Explanation text should make intuitive sense - no contradictory feeling messages",
        "Test edge cases: salary at min, max, and middle of ranges"
      ],
      "priority": 73,
      "passes": true,
      "notes": "Fixed: 1) getSalaryPercentile now uses interpolation (min 1/(n+1)*100, max n/(n+1)*100, midrank method). 2) Added getStateSalaryRank function. 3) States with <5 locations show '2nd of 3' with 'Above/Below average' instead of percentiles."
    },
    {
      "id": "US-074",
      "title": "Use percentile for all states - remove rank special case",
      "acceptanceCriteria": [
        "Remove the <5 locations special case that shows '1st of 4' rank format",
        "Show percentile (Top X% / Bottom X%) for ALL states regardless of location count",
        "The interpolation method already handles small samples appropriately",
        "Consistent display: national and state both show percentile format",
        "State percentile compares salary against state average/distribution"
      ],
      "priority": 74,
      "passes": true,
      "notes": "Removed stateLocationsCount < 5 conditional. Now all states show percentile format. Cleaned up unused getStateSalaryRank import and getOrdinalSuffix function."
    },
    {
      "id": "US-075",
      "title": "Center header title",
      "acceptanceCriteria": [
        "The header title 'Preconstruction & Estimating Salary Survey 2026' is centered",
        "Logo stays on the left",
        "Title positioned in the center of the header area"
      ],
      "priority": 75,
      "passes": true,
      "notes": "Changed justify-end to justify-center. Logo remains on left, title centered in header."
    },
    {
      "id": "US-076",
      "title": "Add blurred cityscape background image",
      "acceptanceCriteria": [
        "Add the NicheSSP cityscape/skyline background image to the page",
        "Image should be fixed position, cover the full viewport",
        "Apply a blur filter (blur(8px) or similar) to add texture without distraction",
        "May need a slight dark overlay to ensure content remains readable",
        "The navy content sections will pop against this textured background",
        "Background should be visible in the gaps between content sections",
        "Works well on all screen sizes",
        "Image can be sourced from NicheSSP website or a similar royalty-free cityscape"
      ],
      "priority": 76,
      "passes": true,
      "notes": "Added fixed position background with NY cityscape image from NicheSSP CDN. Applied 8px blur filter with scale-110 to prevent blur edge artifacts. Added black/30 dark overlay for readability. Content sections pop against the textured background."
    },
    {
      "id": "US-077",
      "title": "Lighten background overlay",
      "acceptanceCriteria": [
        "Reduce the dark overlay opacity to brighten the background",
        "Change from bg-black/30 to bg-black/15 or bg-black/20",
        "Background should feel lighter while still maintaining readability",
        "Test to ensure content is still readable against lighter background"
      ],
      "priority": 77,
      "passes": true,
      "notes": "Changed overlay from bg-black/30 to bg-black/15 - lighter and brighter"
    },
    {
      "id": "US-078",
      "title": "Make location salary range bigger and bold",
      "acceptanceCriteria": [
        "The location's min/max salary values (e.g., $166,290 and $216,750) should be larger font and bold",
        "This differentiates them from the smaller national range values below ($128,733 and $307,721)",
        "Location salary = prominent, national range = secondary/reference",
        "Apply to LocationDetail component salary displays"
      ],
      "priority": 78,
      "passes": true,
      "notes": "Changed location salary labels from text-sm text-gray-600 to text-lg font-bold text-gray-700. National range stays text-xs text-gray-400 for clear visual hierarchy."
    }
  ]
}
